FIELD MACHINE RENTAL - MEMÃ“RIA DO PROJETO

ğŸ“Œ VISÃƒO GERAL
Marketplace SaaS de aluguel de mÃ¡quinas agrÃ­colas no Brasil
Conecta proprietÃ¡rios com produtores rurais
Tech: React 18 + TypeScript + Supabase

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‘¥ ATORES
- ADMIN: Acesso total, aprova docs, analytics
- PROPRIETÃRIO: Cadastra mÃ¡quinas, recebe reservas
- RENTADOR: Busca, faz reservas, avalia
- ANÃ”NIMO: Apenas visualizar

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸšœ MÃQUINAS
Categorias: Trator | Colheitadeira | Pulverizador | Plantadeira | Implemento | Transporte
Status: available | unavailable | archived
PreÃ§os: price_hour | price_day | price_hectare (mÃ­nimo 1 > 0)
Imagens: MÃ¡x 10 | JPG/PNG | 5MB | Min 800x600px

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“… RESERVAS (BOOKINGS)
Estados: pending â†’ confirmed â†’ in_progress â†’ completed â†’ reviewed
ValidaÃ§Ãµes: start_date < end_date | NÃ£o passado | MÃ¡x 365 dias | Sem sobreposiÃ§Ã£o
PreÃ§o: Calculado automaticamente | 2 casas decimais
Cancelamento: Pending sem penalidade | ApÃ³s confirmado requer justificativa

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â­ AVALIAÃ‡Ã•ES (REVIEWS)
PrÃ©-requisito: Booking em status 'completed'
Rating: 1-5 (obrigatÃ³rio) | ComentÃ¡rio: atÃ© 500 chars (opcional)
PÃºblico: Sim, aparece no perfil
Editar: AtÃ© 30 dias, apenas criador ou admin
Rating user: MÃ©dia aritmÃ©tica, exibir 1 decimal

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” BUSCA E FILTROS
Raio: 10-100km (padrÃ£o 50) | CÃ¡lculo: Haversine formula
Filtros: Categoria | PreÃ§o min-max | Ano | AvaliaÃ§Ã£o | OperaÃ§Ã£o
Resultados: MÃ¡x 50/pÃ¡gina | Apenas status='available'
OrdenaÃ§Ã£o: Por distÃ¢ncia ou relevÃ¢ncia

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” SEGURANÃ‡A & RLS
user_profiles: SELECT pÃºblico | INSERT/UPDATE/DELETE prÃ³prio+admin
machines: SELECT pÃºblico | INSERT proprietÃ¡rio | UPDATE proprietÃ¡rio+admin
bookings: SELECT renter+owner+admin | INSERT renter | UPDATE renter+owner+admin
reviews: SELECT pÃºblico | INSERT criador | UPDATE criador+admin
AutenticaÃ§Ã£o: Supabase JWT | Session 7d | Refresh 30d

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… VALIDAÃ‡Ã•ES
Email: Formato vÃ¡lido + Ãºnico (case-insensitive)
CPF/CNPJ: Com dÃ­gito verificador
Telefone: Formato BR (+55 ou 11 dÃ­gitos)
Senha: MÃ­n 8 chars + maiÃºscula + nÃºmero
Datas: NÃ£o passado | start < end | MÃ¡x 365 dias
PreÃ§os: > 0 | Raio: 10-100

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’» ESTRUTURA
src/pages/          â† Rotas principais
src/components/     â† Componentes React
src/hooks/          â† Custom hooks
src/lib/            â† Utils e validaÃ§Ãµes
src/integrations/   â† Supabase client
supabase/          â† Backend

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ PADRÃ•ES DE CÃ“DIGO
Components: FC<Props> | TypeScript obrigatÃ³rio
ValidaÃ§Ã£o: Zod + React Hook Form
Queries: TanStack React Query
Styling: Tailwind CSS
Sem console.log no cÃ³digo final
Commits atÃ´micos com mensagens claras

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ§ª TESTES
Coverage mÃ­nimo: Components 80% | Hooks 90% | Utils 95% | Pages 60%
npm test | npm test -- --coverage | npm test -- --watch

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ COMANDOS
npm run dev       â† Desenvolvimento local (localhost:8080)
npm test          â† Rodar testes
npm run lint      â† Verificar cÃ³digo
npm run build     â† Build produÃ§Ã£o

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š REFERÃŠNCIAS COMPLETAS
- CLAUDE_PROMPT.md: Prompt completo para sessÃµes
- REGRAS_NEGOCIO_RESUMO.txt: Todas as 15 regras detalhadas
- REFERENCIA_RAPIDA.txt: Cheat sheet com tabelas
- CLAUDE_INSTRUCTIONS.md: PadrÃµes de cÃ³digo
